{let t=function(){let t=$("#new-post-form");t.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:t.serialize(),success:function(t){let o=e(t.data.post);$("#post-list-container>ul").prepend(o),n($(" .delete-post-button",o)),new Noty({theme:"relax",text:"Post published!",type:"success",layout:"topRight",timeout:1500}).show(),new PostComments(t.data.post._id),new ToggleLike($(" .toggle-like-button",o))},error:function(t){console.log(t.responseText)}})}))},e=function(t){return $(`<li id="post-${t._id}">\n    <p>\n      \n     \n           <small>\n               \x3c!-- i.id is id of that post --\x3e\n               <a class="delete-post-button" href="/posts/destroy/${t._id}">Delete</a>\n           </small>\n           \n\n       ${t.content}\n   <br>  \n    <small>\n       ${t.user.Name}\n   </small>\n   <br>\n   <small>\n       \n           <a class="toggle-like-button" data-likes="0" href="/likes/toggle/?id=${t._id}&type=Post">\n               0 Likes\n           </a>\n       \n   </small>\n</p>\n<div class="post-comments">\n   \n    \x3c!-- form to create comment --\x3e\n   <form action="/comments/create" method="post" id="post-${t._id}-comments-form">\n       <input type="text" name="content" placeholder="Type Here to add comment......" required>\n       \x3c!-- value attribute -> the content in the value set is sent to the server on form submission.--\x3e\n       \x3c!--value="${t._id} is the id of post in which comment is created--\x3e\n       <input type="hidden" name="post" value="${t._id}">\n       <input type="submit" value="Add Comment">\n   </form>\n\n\n   <div class="post-comments-lists">\n       <ul id="post-comments-${t._id}">\n           \n\n       </ul>\n   </div>\n</div>\n</li>\n        \n`)},n=function(t){console.log(t),$(t).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){console.log(t),$(`#post-${t.data.post_id}`).remove(),new Noty({theme:"relax",text:"Post Deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},o=function(){$("#post-list-container>ul>li").each((function(){let t=$(this),e=$(" .delete-post-button",t);n(e);let o=t.prop("id").split("-")[1];new PostComments(o)}))};t(),o()}